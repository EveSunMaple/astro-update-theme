# å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„

## é…ç½®æ–‡ä»¶

åœ¨ç¨‹åºåˆæ¬¡è¿è¡Œæ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªé…ç½®æ–‡ä»¶ `config.json` å¦‚ä¸‹ï¼š

- "astro-project": 
  - "clone_repo": "ä½ è‡ªå·±æœ¬åœ°ä»“åº“ï¼ˆå…‹éš†ï¼‰çš„åœ°å€ã€è‡ªåŠ¨ç”Ÿæˆçš„ã€‘"
  - "backup_repo": "ä½ è‡ªå·±æœ¬åœ°ä»“åº“ï¼ˆå¤‡ä»½ï¼‰çš„åœ°å€ã€è‡ªåŠ¨ç”Ÿæˆçš„ã€‘"
  - "local_repo": "ä½ è‡ªå·±æœ¬åœ°ä»“åº“çš„åœ°å€"
  - "name": "ä½ è‡ªå·±çš„é¡¹ç›®åœ¨ç¨‹åºä¸­çš„æ ‡è¯†"
  - "remote_repo": "ä½ ä½¿ç”¨çš„ä¸»é¢˜çš„è¿œç¨‹ä»“åº“ URL"
- "name": "å½“å‰çš„ç›®æ ‡é¡¹ç›®"

## ç¨‹åºåŠŸèƒ½

> [!NOTE]
> ğŸ¤– æ­¤é¡¹ä»£è¡¨ç”±ç¨‹åºè‡ªåŠ¨æ“ä½œ
>
> ğŸ§‘â€ğŸ’» æ­¤é¡¹ä»£è¡¨éœ€è¦ç”¨æˆ·è¿›è¡Œæ“ä½œ

### æ–°å¢é¡¹ç›®

#### è¯´æ˜

> åœ¨é…ç½®æ–‡ä»¶ä¸­æ–°æ·»åŠ ä¸€ä¸ªé¡¹ç›®ã€‚

#### æ“ä½œæµç¨‹

1. ğŸ§‘â€ğŸ’» ç”¨æˆ·è¾“å…¥è‡ªå·±æœ¬åœ°ä»“åº“çš„åœ°å€ï¼›
2. ğŸ§‘â€ğŸ’» ç”¨æˆ·è¾“å…¥ä½¿ç”¨çš„ä¸»é¢˜çš„è¿œç¨‹ä»“åº“ URL

#### ç»“æœ

åœ¨é…ç½®æ–‡ä»¶ä¸­æ–°æ·»åŠ ä¸€ä¸ªé¡¹ç›®é…ç½®ã€‚

### æ›´æ”¹é¡¹ç›®

#### è¯´æ˜

> æ›´æ”¹å½“å‰ç¨‹åºæ“ä½œçš„é¡¹ç›®ã€‚

#### æ“ä½œæµç¨‹

1. ğŸ§‘â€ğŸ’» ç”¨æˆ·è¾“å…¥éœ€è¦æ“ä½œçš„é¡¹ç›®åå­—ï¼›

#### ç»“æœ

ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„ `name` é¡¹ã€‚

### æ›´æ–°é¡¹ç›®

#### è¯´æ˜

> é€šè¿‡è¿œç¨‹ä»“åº“ä¸è§„åˆ™é›†æ›´æ–°å½“å‰ç¨‹åºæŒ‡å‘çš„é¡¹ç›®ã€‚

#### æ“ä½œæµç¨‹


1. ğŸ¤– æ–°åˆ›å»ºä¸€ä¸ªç›®å½• `_clone` å…‹éš†è¿œç¨‹ä»“åº“

   ğŸ¤– å¦‚æœå·²ç»å­˜åœ¨ï¼Œåˆ™ä¼šæ‹‰å–

   ğŸ¤– å¦‚æœæ‹‰å–å†²çªï¼Œåˆ™ä¼šåˆ é™¤åŸç›®å½•é‡æ–°å…‹éš†

2. ğŸ¤– æ–°åˆ›å»ºä¸€ä¸ªç›®å½• `_backup` å¤‡ä»½æœ¬åœ°ä»“åº“
3. ğŸ¤– æ¯”è¾ƒ `local_repo` å’Œ `clone_repo` ä¸­çš„æ–‡ä»¶å†…å®¹

   å¦‚æœä»…åœ¨ `local_repo` ä¸­å­˜åœ¨ï¼Œæ ‡è®°ä¸º `[local only]`

   å¦‚æœä»…åœ¨ `clone_repo` ä¸­å­˜åœ¨ï¼Œæ ‡è®°ä¸º `[clone only]`

   å¦‚æœåœ¨ä¸¤ä¸ªç›®å½•ä¸­éƒ½å­˜åœ¨ä¸”æ–‡ä»¶å†…å®¹ä¸åŒï¼Œæ ‡è®°ä¸º `[diff files]`

4. ğŸ¤– æ ¹æ®**è§„åˆ™é›†**å¤„ç†è¿”å›çš„è·¯å¾„

   ğŸ¤– å¦‚æœå­˜åœ¨è§„åˆ™é›†ï¼Œè§£ææœ¬åœ°ä»“åº“ä¸‹çš„è§„åˆ™é›†

   ğŸ§‘â€ğŸ’» å¦‚æœä¸å­˜åœ¨è§„åˆ™é›†ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±é…ç½®

5. ğŸ§‘â€ğŸ’» ç”¨æˆ·ä¸»åŠ¨æŠ‰æ‹©ä¸åœ¨è§„åˆ™é›†ä¸‹çš„æ–‡ä»¶
6. ğŸ¤– è¿›è¡Œé¡¹ç›®ä¿®æ”¹æ“ä½œ
7. ğŸ¤– è§£æåšå®¢é…ç½®æ–‡ä»¶
8. ğŸ§‘â€ğŸ’» ç”¨æˆ·ä¿®æ”¹é…ç½®
9. ğŸ¤– æ›´æ–°é¡¹ç›®ä¾èµ–
10. ğŸ¤– æäº¤è¿œç¨‹ä»“åº“

#### ç»“æœ

æ›´æ–°æœ¬åœ°ä»“åº“çš„ä¸»é¢˜ã€‚

### ç”Ÿæˆè§„åˆ™

> ğŸš§ æ­¤å†…å®¹è¿˜åœ¨å»ºè®¾ ğŸš§

## æ›´æ–°è§„åˆ™

æ›´æ–°è§„åˆ™ç”±åœ¨æœ¬åœ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ `rule.json` å†³å®šã€‚

### è®¾è®¡

`rule.json` çš„ç»“æ„å¦‚ä¸‹ï¼š

æœ€å‰ï¼šé€‚ç”¨çš„é¡¹ç›®åå­—
ä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«å­˜è´®æ‰«æç›®å½•ä¸æ¯”è¾ƒæ–‡ä»¶çš„è§„åˆ™

1. ç¬¬ä¸€éƒ¨åˆ†ç”±ä¸‹é¢å‡ ä¸ªå†…å®¹ç»„æˆ
   - æ‰€å¿½ç•¥çš„ç›®å½•ä¸æ–‡ä»¶ï¼ˆè¿™åº”è¯¥æœ‰ä¸¤ä¸ªé…ç½®ï¼Œåˆ†å¸ƒæ˜¯ç›®å½•ä¸æ–‡ä»¶ï¼‰
   - å¯ä»¥ç›´æ¥è¦†ç›–çš„ç›®å½•ä¸æ–‡ä»¶ï¼ˆè¿™åªé’ˆå¯¹è½»é‡ç”¨æˆ·ï¼Œä¸æ’é™¤ç”¨æˆ·ä¿®æ”¹æ­¤éƒ¨åˆ†çš„å†…å®¹ï¼Œå› æ­¤éœ€è¦å¿…è¦æ£€æŸ¥ã€‚æœ‰å…³æ£€æŸ¥çš„éƒ¨åˆ†è¯·è§-ï¼‰
   - éœ€è¦å®¡æŸ¥çš„ç›®å½•ä¸æ–‡ä»¶ï¼ˆè¿™ä»£è¡¨å­˜åœ¨ä¸»é¢˜ä»£ç ä¸ç”¨æˆ·å†…å®¹å…±å­˜çš„éƒ¨åˆ†ï¼‰
   - æ­¤åšå®¢çš„é…ç½®æ–‡ä»¶ï¼ˆéœ€è¦ç‰¹æ®Šçš„ä»£ç è§£æé…ç½®ï¼‰
   - å…¶ä»–æ–‡ä»¶é»˜è®¤å¿½ç•¥ï¼Œä½†æ˜¯ä¼šçˆ†å‡ºè­¦å‘Šï¼Œä»£è¡¨æœªæ£€æŸ¥çš„å¿½ç•¥ï¼Œæ˜¯å¦æ·»åŠ è¿›å¿½ç•¥åˆ—è¡¨ï¼Ÿ
2. ç¬¬äºŒéƒ¨åˆ†å°†æ“ä½œç¬¬ä¸€éƒ¨åˆ†ä¸­ä» â€œéœ€è¦å®¡æŸ¥çš„ç›®å½•ä¸æ–‡ä»¶â€ ä¸­è·å–çš„æ–‡ä»¶ç›®å½•
  
ç¬¬äºŒéƒ¨åˆ†ä¸åˆ†æˆå°éƒ¨åˆ†ï¼Œä½¿ç”¨ä¸‹é¢çš„æ ¼å¼å®šä¹‰ï¼š

```json
"ç¬¬äºŒéƒ¨åˆ†": [
   {
      "ç”Ÿæ•ˆçš„ç›®å½•": "",
      "ç”Ÿæ•ˆçš„æ–‡ä»¶": "",
      "æ“ä½œçš„å‡½æ•°": "",
      "å‡½æ•°æ¥æº": ""
   },
   {
      "ç”Ÿæ•ˆçš„ç›®å½•": "",
      "ç”Ÿæ•ˆçš„æ–‡ä»¶": "",
      "æ“ä½œçš„å‡½æ•°": "",
      "å‡½æ•°æ¥æº": ""
   },
]
```

è¿™ä»£è¡¨å¯ä»¥ä¸ºä¸åŒçš„æ–‡ä»¶èµ‹äºˆä¸åŒçš„æ“ä½œã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```json
{
  "project_name": "Astro",
  "rules": {
    "scan_rules": {
      "ignore_directories": [
        "node_modules",
        "dist",
        "coverage",
        "logs"
      ],
      "ignore_files": [
        ".DS_Store",
        "Thumbs.db",
        "*.tmp",
        "*.log"
      ],
      "overwrite_directories": [
        "public",
        "assets"
      ],
      "overwrite_files": [
        "config.default.json",
        "style.default.css"
      ],
      "review_directories": [
        "src/components",
        "src/pages"
      ],
      "review_files": [
        "analysis.cpp",
        "theme.config.json"
      ],
      "config_files": [
        "astro.config.js",
        "tailwind.config.js"
      ],
      "untracked_warning": true
    },
    "operation_rules": [
      {
        "active_directory": "src/components",
        "active_file": "analysis.cpp",
        "operation_function": "mergeAnalysis",
        "function_source": "local"
      },
      {
        "active_directory": "src/pages",
        "active_file": "index.astro",
        "operation_function": "reviewContent",
        "function_source": "local"
      },
      {
        "active_directory": "config",
        "active_file": "theme.config.json",
        "operation_function": "parseThemeConfig",
        "function_source": "local"
      }
    ]
  }
}
```

### è¯´æ˜

1. **`project_name`**: é¡¹ç›®çš„åç§°ï¼Œè¿™é‡Œé»˜è®¤å¡«å…¥â€œ`Astro æ›´æ–°ç¨‹åº`â€ã€‚
2. **`scan_rules`**:
   - **`ignore_directories`**: å¿½ç•¥çš„ç›®å½•åˆ—è¡¨ã€‚
   - **`ignore_files`**: å¿½ç•¥çš„æ–‡ä»¶åˆ—è¡¨ã€‚
   - **`overwrite_directories`**: å¯ä»¥ç›´æ¥è¦†ç›–çš„ç›®å½•åˆ—è¡¨ã€‚
   - **`overwrite_files`**: å¯ä»¥ç›´æ¥è¦†ç›–çš„æ–‡ä»¶åˆ—è¡¨ã€‚
   - **`review_directories`**: éœ€è¦å®¡æŸ¥çš„ç›®å½•åˆ—è¡¨ã€‚
   - **`review_files`**: éœ€è¦å®¡æŸ¥çš„æ–‡ä»¶åˆ—è¡¨ã€‚
   - **`config_files`**: éœ€è¦ç‰¹æ®Šè§£æçš„é…ç½®æ–‡ä»¶åˆ—è¡¨ã€‚
   - **`untracked_warning`**: ä¸ºæœªè·Ÿè¸ªçš„æ–‡ä»¶æä¾›è­¦å‘Šã€‚
3. **`operation_rules`**: æ“ä½œè§„åˆ™ï¼Œåº”ç”¨äºéœ€è¦å®¡æŸ¥çš„ç›®å½•ä¸æ–‡ä»¶ã€‚
   - **`active_directory`**: ç”Ÿæ•ˆçš„ç›®å½•ã€‚
   - **`active_file`**: ç”Ÿæ•ˆçš„æ–‡ä»¶ã€‚
   - **`operation_function`**: è¿›è¡Œæ“ä½œçš„å‡½æ•°åç§°ã€‚
   - **`function_source`**: è¯¥å‡½æ•°çš„æ¥æºã€‚

ä½ å¯ä»¥æ ¹æ®å®é™…çš„é¡¹ç›®ç›®å½•ç»“æ„å’Œéœ€æ±‚æ¥è°ƒæ•´è¿™äº›è§„åˆ™é…ç½®ã€‚